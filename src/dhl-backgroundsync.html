//https://github.com/PolymerElements/platinum-sw/issues/75

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-request.html">

<dom-module id="dhl-backgroundsync">
    <template>
        <!--
        <platinum-sw-register auto-register>
            <platinum-sw-fetch path="/(.*)" handler="networkOnly" origin="http://192\.168\..+\..+">
                <platinum-sw-cache></platinum-sw-cache>
        </platinum-sw-register>

        <iron-ajax
                auto
                url="http://localhost:8080/trips/744567"
                handle-as="json"
                last-response="{{tripInfo}}"
                debounce-duration="300">
        </iron-ajax>-->

        <iron-request id="xhr"></iron-request>

    </template>

    <script>
        Polymer({
            is: 'dhl-backgroundsync',

            properties:{
                tripInfo: {
                    type: Object,
                    value: function(){return {};},
                    notify:true,
                    observer: 'tripInfoChanged'
                },

            },
            tripInfoChanged: function(newValue, oldValue) {
                console.log('tripInfo', oldValue, 'to:', newValue);
            }
        });
    </script>
</dom-module>
