<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-styles/color.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="shared-styles.html">

<dom-module id="dhl-tripexecute">
    <template>
        <style include="shared-styles">
            :host {
                display: block;
                height: 1000px;
                position: relative;
                overflow-y: auto;
                padding: 10px;
                @apply(--paper-font-common-base);
            }

        </style>


        <div class="card">
            <template is="dom-repeat"
                      items="{{parcelResp.TRIPS_REPLY.REPLY_OVERVIEW_PARCELS}}"
                      as="parcel">
                <div>
                    <table>
                        <tr>
                            <td class="primary">[[parcel.DELIVERY_SEQUENCE_NUMBER]]</td>
                            <td class="primary">[[parcel.STREET]] [[parcel.HOUSE_NUMBER]]</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>[[parcel.POSTAL_CODE_NUMERIC]][[parcel.POSTAL_CODE_ALPHA]] [[parcel.CITY]]</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>[[parcel.CUSTOMER_SHORT_NAME]]</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <paper-button on-tap="onDeliverTap" parcel="[[parcel]]" raised>Afleveren</paper-button>
                            </td>
                        </tr>
                    </table>
                </div>
            </template>
        </div>

        <a id="parcelNav" href="/delivery" style="display:none;">In Rit</a>

    </template>

    <script>

        Polymer({
            is: 'dhl-tripexecute',

            properties: {

                parcel:{
                    type: Object,
                    notify: true
                }
            },

            onDeliverTap: function(event) {
                this.parcel = event.target.parcel;
                this.$.parcelNav.click();
            },

        });

    </script>
</dom-module>

